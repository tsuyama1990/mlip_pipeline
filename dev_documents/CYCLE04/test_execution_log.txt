============================= test session starts ==============================
platform linux -- Python 3.12.12, pytest-9.0.2, pluggy-1.6.0
rootdir: /app
configfile: pyproject.toml
plugins: cov-7.0.0
collected 10 items

tests/unit/surrogate/test_candidate_manager.py .                         [ 10%]
tests/unit/training/test_pacemaker_selection.py ..                       [ 30%]
tests/unit/orchestration/test_workflow_state.py ..                       [ 50%]
tests/unit/orchestration/test_workflow.py .....                          [100%]

================================ tests coverage ================================
_______________ coverage: platform linux, python 3.12.12-final-0 _______________

Name                                                     Stmts   Miss  Cover   Missing
--------------------------------------------------------------------------------------
src/mlip_autopipec/__init__.py                               4      0   100%
src/mlip_autopipec/app.py                                   53     53     0%   1-157
src/mlip_autopipec/config/__init__.py                       12      0   100%
src/mlip_autopipec/config/factory.py                        37     37     0%   1-62
src/mlip_autopipec/config/loaders/__init__.py                2      2     0%   1-3
src/mlip_autopipec/config/loaders/yaml_loader.py            58     58     0%   1-95
src/mlip_autopipec/config/models.py                         48      0   100%
src/mlip_autopipec/config/schemas/common.py                 18      5    72%   8-11, 30
src/mlip_autopipec/config/schemas/core.py                   42     10    76%   21-22, 29-30, 35-36, 40-41, 47-48
src/mlip_autopipec/config/schemas/dft.py                    42     11    74%   41-42, 45-46, 53-54, 59-63
src/mlip_autopipec/config/schemas/exploration.py             5      0   100%
src/mlip_autopipec/config/schemas/generator.py              28      0   100%
src/mlip_autopipec/config/schemas/inference.py              47      4    91%   88-91
src/mlip_autopipec/config/schemas/monitoring.py             12      0   100%
src/mlip_autopipec/config/schemas/surrogate.py              23      0   100%
src/mlip_autopipec/config/schemas/training.py               42      6    86%   43-44, 46-47, 57-58
src/mlip_autopipec/config/schemas/validation.py             20      0   100%
src/mlip_autopipec/config/schemas/workflow.py                6      0   100%
src/mlip_autopipec/core/__init__.py                          0      0   100%
src/mlip_autopipec/core/services.py                         13     13     0%   1-34
src/mlip_autopipec/core/workspace.py                        13     13     0%   1-25
src/mlip_autopipec/dft/__init__.py                           0      0   100%
src/mlip_autopipec/dft/constants.py                          3      3     0%   1-91
src/mlip_autopipec/dft/inputs.py                            70     70     0%   1-162
src/mlip_autopipec/dft/parsers.py                           41     29    29%   46, 72-124
src/mlip_autopipec/dft/recovery.py                          46     32    30%   34, 40-45, 52-59, 66-99
src/mlip_autopipec/dft/runner.py                           125    101    19%   32-35, 41-128, 143-156, 159-191, 203-240, 253-263, 268-269, 275-277
src/mlip_autopipec/domain_models/__init__.py                 5      0   100%
src/mlip_autopipec/domain_models/atoms.py                   36     36     0%   1-70
src/mlip_autopipec/domain_models/candidate.py               14     14     0%   1-30
src/mlip_autopipec/domain_models/dft_models.py              63     23    63%   53-59, 64-85
src/mlip_autopipec/domain_models/inference_models.py        30      9    70%   28-37
src/mlip_autopipec/domain_models/state.py                   16      0   100%
src/mlip_autopipec/domain_models/structure_enums.py          9      9     0%   1-11
src/mlip_autopipec/domain_models/training_data.py           68     41    40%   29-35, 43-64, 69-82, 96-102
src/mlip_autopipec/domain_models/validation.py              15      0   100%
src/mlip_autopipec/exceptions.py                            25     13    48%   43-48, 51-52, 59-60, 63-66
src/mlip_autopipec/generator/__init__.py                     5      0   100%
src/mlip_autopipec/generator/builder.py                     81     68    16%   21-22, 28-102, 105-122
src/mlip_autopipec/generator/defects.py                    104     89    14%   31-32, 45-71, 87-138, 154-220
src/mlip_autopipec/generator/distortions.py                 43     43     0%   1-82
src/mlip_autopipec/generator/sqs.py                         44     33    25%   30-31, 50-100
src/mlip_autopipec/generator/transformations.py             48     40    17%   26-57, 75-100
src/mlip_autopipec/inference/__init__.py                     8      0   100%
src/mlip_autopipec/inference/analysis.py                    44     39    11%   22, 34-88
src/mlip_autopipec/inference/eon.py                         72     72     0%   1-163
src/mlip_autopipec/inference/inputs.py                      39     29    26%   22, 28-111
src/mlip_autopipec/inference/interfaces.py                   5      0   100%
src/mlip_autopipec/inference/masking.py                     36     32    11%   23-77
src/mlip_autopipec/inference/parsers.py                     50     45    10%   30-94
src/mlip_autopipec/inference/processing.py                  40     40     0%   1-81
src/mlip_autopipec/inference/runner.py                      71     55    23%   24-26, 33-104, 108-121, 125-139
src/mlip_autopipec/inference/uq.py                          23     17    26%   9, 16-38
src/mlip_autopipec/inference/writer.py                      21     13    38%   27-29, 42-65
src/mlip_autopipec/modules/__init__.py                       0      0   100%
src/mlip_autopipec/modules/training_orchestrator.py         22     22     0%   5-73
src/mlip_autopipec/monitoring/__init__.py                    0      0   100%
src/mlip_autopipec/monitoring/dashboard.py                  64     64     0%   1-118
src/mlip_autopipec/orchestration/__init__.py                 7      0   100%
src/mlip_autopipec/orchestration/dashboard.py               57     37    35%   44-47, 58-68, 80-116, 129-131
src/mlip_autopipec/orchestration/database.py               185    155    16%   26-29, 33-41, 44, 47-49, 52, 56-69, 72-84, 87-95, 98-107, 110-119, 125-138, 146-157, 163, 166-178, 181-221, 224-234, 237-245
src/mlip_autopipec/orchestration/interfaces.py              10     10     0%   1-30
src/mlip_autopipec/orchestration/phase_executor.py          23     23     0%   1-47
src/mlip_autopipec/orchestration/phases/base.py             10      4    60%   14-17
src/mlip_autopipec/orchestration/phases/dft.py              51     40    22%   16-21, 27-92
src/mlip_autopipec/orchestration/phases/exploration.py      69     56    19%   18-23, 29-113
src/mlip_autopipec/orchestration/phases/selection.py        56     46    18%   20-97
src/mlip_autopipec/orchestration/phases/training.py         45     37    18%   14-66
src/mlip_autopipec/orchestration/strategies.py              27     27     0%   1-61
src/mlip_autopipec/orchestration/task_queue.py              77     62    19%   30-52, 69-78, 97-126, 141-144, 150-154
src/mlip_autopipec/orchestration/workflow.py                71      7    90%   42-43, 65-67, 87-88
src/mlip_autopipec/surrogate/__init__.py                     5      0   100%
src/mlip_autopipec/surrogate/candidate_manager.py           59     24    59%   26-27, 46-47, 50-51, 58, 77-78, 83-91, 94-101, 106-107
src/mlip_autopipec/surrogate/descriptors.py                 31     31     0%   1-85
src/mlip_autopipec/surrogate/mace_client.py                 66     66     0%   1-150
src/mlip_autopipec/surrogate/mace_wrapper.py                57     50    12%   11-13, 19-39, 45-67, 73-112
src/mlip_autopipec/surrogate/model_interface.py              8      0   100%
src/mlip_autopipec/surrogate/pipeline.py                   106     90    15%   22-28, 38-59, 63-68, 71-72, 77-127, 132-175
src/mlip_autopipec/surrogate/sampling.py                    19     14    26%   7, 19-45
src/mlip_autopipec/training/__init__.py                      4      0   100%
src/mlip_autopipec/training/config_gen.py                   17     11    35%   12-15, 33-47
src/mlip_autopipec/training/dataset.py                      51     39    24%   21, 30-41, 54-99
src/mlip_autopipec/training/metrics.py                      41     41     0%   5-81
src/mlip_autopipec/training/pacemaker.py                    82     37    55%   17-19, 36-79, 84-85, 89-90, 101-102, 105-106, 123-124, 132, 134-136
src/mlip_autopipec/training/physics.py                      39     28    28%   43-112
src/mlip_autopipec/utils/__init__.py                         0      0   100%
src/mlip_autopipec/utils/ase_utils.py                       44     44     0%   12-122
src/mlip_autopipec/utils/config_utils.py                    33     33     0%   3-60
src/mlip_autopipec/utils/dask_utils.py                      13     13     0%   6-48
src/mlip_autopipec/utils/data_loader.py                     15     15     0%   5-39
src/mlip_autopipec/utils/embedding.py                       13     13     0%   1-22
src/mlip_autopipec/utils/logging.py                         11     11     0%   5-31
src/mlip_autopipec/utils/resilience.py                      30     30     0%   6-94
src/mlip_autopipec/utils/workflow_utils.py                  32     32     0%   3-53
src/mlip_autopipec/validation/__init__.py                    0      0   100%
src/mlip_autopipec/validation/elasticity.py                 18     18     0%   1-42
src/mlip_autopipec/validation/eos.py                        19     19     0%   1-46
src/mlip_autopipec/validation/phonon.py                     18     18     0%   1-41
src/mlip_autopipec/validation/runner.py                     27     27     0%   1-54
--------------------------------------------------------------------------------------
TOTAL                                                     3457   2501    28%
============================== 10 passed in 6.48s ==============================
