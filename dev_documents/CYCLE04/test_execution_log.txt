============================= test session starts ==============================
platform linux -- Python 3.12.12, pytest-9.0.2, pluggy-1.6.0
rootdir: /app
configfile: pyproject.toml
testpaths: tests
plugins: cov-7.0.0
collected 55 items

tests/integration/test_generation_pipeline.py .                          [  1%]
tests/integration/test_otf_loop.py .                                     [  3%]
tests/integration/test_skeleton_loop.py .                                [  5%]
tests/uat/test_cycle03.py ..                                             [  9%]
tests/unit/test_config.py ...                                            [ 14%]
tests/unit/test_config_dft.py ....                                       [ 21%]
tests/unit/test_domain_exploration.py .....                              [ 30%]
tests/unit/test_embedding.py .                                           [ 32%]
tests/unit/test_espresso.py ...                                          [ 38%]
tests/unit/test_explorer.py ...                                          [ 43%]
tests/unit/test_file_ops.py ..                                           [ 47%]
tests/unit/test_lammps_input.py ..                                       [ 50%]
tests/unit/test_lammps_runner.py .                                       [ 52%]
tests/unit/test_log_parser.py ...                                        [ 58%]
tests/unit/test_logging.py ..                                            [ 61%]
tests/unit/test_main.py ...                                              [ 67%]
tests/unit/test_orchestrator.py ..                                       [ 70%]
tests/unit/test_pacemaker.py ..                                          [ 74%]
tests/unit/test_parsers.py .....                                         [ 83%]
tests/unit/test_policy.py .                                              [ 85%]
tests/unit/test_selection.py ...                                         [ 90%]
tests/unit/test_state.py ...                                             [ 96%]
tests/unit/test_strategies.py ..                                         [100%]

================================ tests coverage ================================
_______________ coverage: platform linux, python 3.12.12-final-0 _______________

Name                                                     Stmts   Miss  Cover   Missing
--------------------------------------------------------------------------------------
src/mlip_autopipec/__init__.py                               0      0   100%
src/mlip_autopipec/config/__init__.py                        2      0   100%
src/mlip_autopipec/config/config_model.py                   50      0   100%
src/mlip_autopipec/config/loader.py                         10      0   100%
src/mlip_autopipec/domain_models/__init__.py                 4      0   100%
src/mlip_autopipec/domain_models/dynamics.py                14      0   100%
src/mlip_autopipec/domain_models/exploration.py             12      0   100%
src/mlip_autopipec/domain_models/potential.py               10      0   100%
src/mlip_autopipec/domain_models/structures.py              16      0   100%
src/mlip_autopipec/domain_models/validation.py               9      0   100%
src/mlip_autopipec/domain_models/workflow.py                16      0   100%
src/mlip_autopipec/logging_config.py                        12      2    83%   16-17
src/mlip_autopipec/main.py                                  59      9    85%   32-35, 44-49, 104
src/mlip_autopipec/orchestration/__init__.py                 0      0   100%
src/mlip_autopipec/orchestration/interfaces.py              15      0   100%
src/mlip_autopipec/orchestration/mocks.py                   25      0   100%
src/mlip_autopipec/orchestration/orchestrator.py            71      4    94%   113, 142-144
src/mlip_autopipec/orchestration/otf_loop.py                38      6    84%   50-51, 69-73
src/mlip_autopipec/orchestration/state.py                   16      0   100%
src/mlip_autopipec/physics/__init__.py                       0      0   100%
src/mlip_autopipec/physics/dynamics/__init__.py              0      0   100%
src/mlip_autopipec/physics/dynamics/input_generator.py      40      1    98%   55
src/mlip_autopipec/physics/dynamics/lammps_runner.py        39      4    90%   64-66, 75
src/mlip_autopipec/physics/dynamics/log_parser.py           38      7    82%   12-13, 54, 59-60, 64-65
src/mlip_autopipec/physics/oracle/__init__.py                0      0   100%
src/mlip_autopipec/physics/oracle/espresso.py               73     19    74%   32-33, 37-38, 72-73, 137-154
src/mlip_autopipec/physics/oracle/interface.py               4      4     0%   1-7
src/mlip_autopipec/physics/oracle/manager.py                27     17    37%   15-16, 19-40
src/mlip_autopipec/physics/selection/selector.py            17      0   100%
src/mlip_autopipec/physics/structure_gen/__init__.py         2      0   100%
src/mlip_autopipec/physics/structure_gen/embedding.py       26      0   100%
src/mlip_autopipec/physics/structure_gen/explorer.py        59      9    85%   27-28, 85-94
src/mlip_autopipec/physics/structure_gen/generator.py        4      0   100%
src/mlip_autopipec/physics/structure_gen/policy.py           8      0   100%
src/mlip_autopipec/physics/structure_gen/strategies.py      30      0   100%
src/mlip_autopipec/physics/training/__init__.py              0      0   100%
src/mlip_autopipec/physics/training/pacemaker.py            64     16    75%   37, 45-47, 51-53, 75, 77-82, 89-94
src/mlip_autopipec/utils/__init__.py                         0      0   100%
src/mlip_autopipec/utils/crystallography.py                  5      5     0%   1-14
src/mlip_autopipec/utils/file_ops.py                        13      0   100%
src/mlip_autopipec/utils/parsers.py                         75     13    83%   45, 48, 55-56, 79, 86, 89-90, 93, 106-109
--------------------------------------------------------------------------------------
TOTAL                                                      903    116    87%
============================== 55 passed in 4.95s ==============================
