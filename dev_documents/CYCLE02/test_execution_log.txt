============================= test session starts ==============================
platform linux -- Python 3.12.12, pytest-9.0.2, pluggy-1.6.0
rootdir: /app
configfile: pyproject.toml
plugins: cov-7.0.0
collected 30 items

tests/unit/generator/test_builder.py ....                                [ 13%]
tests/unit/generator/test_coverage.py ......                             [ 33%]
tests/unit/generator/test_defects.py .....                               [ 50%]
tests/unit/generator/test_schemas.py ......                              [ 70%]
tests/unit/generator/test_sqs.py ..                                      [ 76%]
tests/unit/generator/test_transformations.py ....                        [ 90%]
tests/uat/test_cycle02_structure_gen.py ...                              [100%]

================================ tests coverage ================================
_______________ coverage: platform linux, python 3.12.12-final-0 _______________

Name                                                  Stmts   Miss  Cover   Missing
-----------------------------------------------------------------------------------
src/mlip_autopipec/__init__.py                            4      0   100%
src/mlip_autopipec/app.py                                78     78     0%   8-136
src/mlip_autopipec/config/__init__.py                     3      0   100%
src/mlip_autopipec/config/factory.py                     37     37     0%   1-62
src/mlip_autopipec/config/models.py                      51      0   100%
src/mlip_autopipec/config/schemas/core.py                37      5    86%   21, 28, 33, 37, 43
src/mlip_autopipec/config/schemas/dft.py                 48     20    58%   34-44, 49-51, 61-71
src/mlip_autopipec/config/schemas/exploration.py          5      0   100%
src/mlip_autopipec/config/schemas/generator.py           26      0   100%
src/mlip_autopipec/config/schemas/inference.py           30      5    83%   25-31, 50
src/mlip_autopipec/config/schemas/orchestration.py        6      0   100%
src/mlip_autopipec/config/schemas/surrogate.py            8      0   100%
src/mlip_autopipec/config/schemas/training.py            38     11    71%   32-38, 46-49
src/mlip_autopipec/core/__init__.py                       0      0   100%
src/mlip_autopipec/core/services.py                      11     11     0%   1-32
src/mlip_autopipec/core/workspace.py                     13     13     0%   1-25
src/mlip_autopipec/data_models/__init__.py                4      0   100%
src/mlip_autopipec/data_models/atoms.py                  21     21     0%   1-38
src/mlip_autopipec/data_models/candidate.py              10     10     0%   1-19
src/mlip_autopipec/data_models/dft_models.py             51     12    76%   51-57, 63-69
src/mlip_autopipec/data_models/inference_models.py       24      7    71%   28-35
src/mlip_autopipec/data_models/structure_enums.py         9      9     0%   1-11
src/mlip_autopipec/data_models/training_data.py          59     32    46%   29-33, 41-60, 65-76, 90-95
src/mlip_autopipec/dft/__init__.py                        0      0   100%
src/mlip_autopipec/dft/constants.py                       3      0   100%
src/mlip_autopipec/dft/inputs.py                         70     54    23%   30-114, 122-134, 141-149, 156-163
src/mlip_autopipec/dft/parsers.py                        32     24    25%   27, 53-99
src/mlip_autopipec/dft/recovery.py                       32     23    28%   33-40, 49-78
src/mlip_autopipec/dft/runner.py                        136    107    21%   35, 41-52, 62-75, 81-188, 195-204, 210-221, 229-230
src/mlip_autopipec/exceptions.py                         25      7    72%   43-48, 51-52
src/mlip_autopipec/generator/__init__.py                  5      0   100%
src/mlip_autopipec/generator/builder.py                  89      5    94%   44-45, 103, 142, 158
src/mlip_autopipec/generator/defects.py                  83     10    88%   82, 106-109, 132, 177-180
src/mlip_autopipec/generator/distortions.py              44      4    91%   69-70, 82-83
src/mlip_autopipec/generator/sqs.py                      44      9    80%   55, 78-81, 93-96
src/mlip_autopipec/generator/transformations.py          48      5    90%   47-49, 51, 94
src/mlip_autopipec/inference/__init__.py                  9      0   100%
src/mlip_autopipec/inference/analysis.py                 44     39    11%   22, 34-88
src/mlip_autopipec/inference/embedding.py                44     32    27%   30, 43-49, 53-59, 72-88, 100-130
src/mlip_autopipec/inference/inputs.py                   19     14    26%   14, 18-71
src/mlip_autopipec/inference/interfaces.py                5      0   100%
src/mlip_autopipec/inference/masking.py                  33     29    12%   23-76
src/mlip_autopipec/inference/runner.py                   82     67    18%   35-38, 51-104, 114-136, 142-175
src/mlip_autopipec/inference/uq.py                       23     17    26%   9, 16-38
src/mlip_autopipec/inference/writer.py                   20     12    40%   27-29, 42-59
src/mlip_autopipec/modules/__init__.py                    0      0   100%
src/mlip_autopipec/modules/config_generator.py           15     15     0%   3-74
src/mlip_autopipec/modules/descriptors.py                31     31     0%   3-62
src/mlip_autopipec/modules/dft.py                        67     67     0%   6-189
src/mlip_autopipec/modules/exploration.py                51     51     0%   7-130
src/mlip_autopipec/modules/explorer.py                   46     46     0%   3-90
src/mlip_autopipec/modules/generator.py                  72     72     0%   3-203
src/mlip_autopipec/modules/inference.py                 136    136     0%   7-333
src/mlip_autopipec/modules/screening.py                  41     41     0%   3-68
src/mlip_autopipec/modules/training_orchestrator.py      22     22     0%   5-73
src/mlip_autopipec/monitoring/__init__.py                 0      0   100%
src/mlip_autopipec/monitoring/dashboard.py               63     63     0%   1-115
src/mlip_autopipec/orchestration/__init__.py              5      0   100%
src/mlip_autopipec/orchestration/dashboard.py            47     33    30%   31-34, 45-55, 67-95, 108-110
src/mlip_autopipec/orchestration/database.py            160    128    20%   24-25, 31-52, 56, 74, 78-79, 83, 88, 95-105, 121-133, 146-150, 160-167, 177-184, 198-210, 224, 238-251, 258, 269-293, 297-300, 305-316
src/mlip_autopipec/orchestration/interfaces.py            9      0   100%
src/mlip_autopipec/orchestration/models.py               18      0   100%
src/mlip_autopipec/orchestration/phase_executor.py      129    109    16%   28-35, 39-64, 68-110, 114-137, 146-225
src/mlip_autopipec/orchestration/task_queue.py           74     60    19%   29-52, 69-77, 96-124, 139-141, 147-151
src/mlip_autopipec/orchestration/workflow.py             84     62    26%   46-72, 79-94, 98-104, 108, 114-132, 136-159, 163-173
src/mlip_autopipec/surrogate/__init__.py                  5      0   100%
src/mlip_autopipec/surrogate/candidate_manager.py        14     14     0%   2-22
src/mlip_autopipec/surrogate/descriptors.py              30     30     0%   1-84
src/mlip_autopipec/surrogate/mace_client.py              62     62     0%   1-146
src/mlip_autopipec/surrogate/mace_wrapper.py             53     46    13%   11-13, 19-34, 40-61, 67-105
src/mlip_autopipec/surrogate/model_interface.py           8      0   100%
src/mlip_autopipec/surrogate/pipeline.py                100     84    16%   16-22, 32-53, 56-61, 64-65, 68-115, 118-155
src/mlip_autopipec/surrogate/sampling.py                 19     14    26%   7, 19-43
src/mlip_autopipec/training/__init__.py                   4      0   100%
src/mlip_autopipec/training/config_gen.py                16     10    38%   12-14, 32-46
src/mlip_autopipec/training/dataset.py                   45     35    22%   33, 53-120
src/mlip_autopipec/training/metrics.py                   35     27    23%   33-71
src/mlip_autopipec/training/pacemaker.py                106     87    18%   39-41, 48-69, 82-122, 134, 138-159, 165-178, 190-239
src/mlip_autopipec/training/physics.py                   39     28    28%   43-109
src/mlip_autopipec/utils/__init__.py                      0      0   100%
src/mlip_autopipec/utils/ase_utils.py                    42     42     0%   12-120
src/mlip_autopipec/utils/config_utils.py                 13     13     0%   3-28
src/mlip_autopipec/utils/dask_utils.py                   12      7    42%   31-43
src/mlip_autopipec/utils/data_loader.py                  15     15     0%   5-39
src/mlip_autopipec/utils/logging.py                      11     11     0%   5-31
src/mlip_autopipec/utils/resilience.py                   29     29     0%   6-93
src/mlip_autopipec/utils/workflow_utils.py               32     32     0%   3-53
-----------------------------------------------------------------------------------
TOTAL                                                  3223   2251    30%
============================== 30 passed in 9.93s ==============================
