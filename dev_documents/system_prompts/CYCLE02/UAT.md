# CYCLE 02 UAT: Real Training Integration

## 1. Test Scenarios

### Scenario 02.1: ZBL-Delta Training Configuration
*   **Priority**: High
*   **Objective**: Verify that the system correctly configures "Delta Learning" to prevent unphysical atomic overlap.
*   **Description**: The user enables ZBL baseline in the config. The generated `input.yaml` for Pacemaker must contain the hybrid potential definition.
*   **Input**: `config.yaml`
    ```yaml
    training:
      physics_baseline: "ZBL"
      elements: ["Fe", "Pt"]
    ```
*   **Success Criteria**:
    *   The generated `input.yaml` (inspected in `work_dir`) contains `pair_style: hybrid/overlay` (or equivalent Pacemaker config for base potential).
    *   Logs confirm "Delta learning enabled with ZBL".

### Scenario 02.2: End-to-End Training (Mocked Subprocess)
*   **Priority**: Critical
*   **Objective**: Verify the orchestration of data saving and training command execution.
*   **Description**: Run a cycle where `MockExplorer` generates data, but `PacemakerTrainer` is used to "train" on it.
*   **Success Criteria**:
    *   `dataset.pckl.gzip` (or compatible format) is created in the run directory.
    *   `subprocess` call to `pace_train` is triggered (verified via logs or mock).
    *   `potential.yace` is "produced" (by the mock or real run).

## 2. Behavior Definitions

```gherkin
Feature: Pacemaker Training

  Scenario: Training with Physics Baseline
    GIVEN a training configuration with "physics_baseline=ZBL"
    WHEN the Trainer prepares the "input.yaml"
    THEN the configuration should include a reference potential section for ZBL
    AND the ACE potential should be defined as a delta correction

  Scenario: Dataset Serialization
    GIVEN a list of 10 ASE Atoms objects generated by Explorer
    WHEN the Trainer is invoked
    THEN a file "dataset.p7" (or pckl) should be created on disk
    AND the file size should be greater than 0
```
